# Тёплые крестики-нолики

Нежная веб-игра для девушек 30–45 с отправкой результата в Telegram.

## Как запустить локально
1. Поставь Node.js 18+.
2. Создай файл `.env` и добавь токен бота:
   ```
   BOT_TOKEN=твой_токен
   ```
3. Запусти:
   ```bash
   npm run dev
   ```
4. Открой `http://localhost:3000`.

## Как это работает
- Кнопка «Открыть Telegram бота» ведёт в @cool_woman_bot (важно: WebApp-кнопка в самом Telegram).
- Telegram WebApp отдаёт `initData` и `initDataUnsafe`; мы используем `chat.id` или `user.id`, если открыто внутри Telegram.
- При победе генерируется промокод из 5 цифр и отправляется в чат; при поражении — тёплое сообщение поддержки.
- Endpoint `/api/send` проверяет подпись `initData` (HMAC по правилам Telegram) и не принимает подменённые идентификаторы.

## Деплой на Vercel
- В настройках проекта Vercel добавь переменную окружения `BOT_TOKEN`.
- Файл `api/send.js` — serverless-функция для отправки сообщений в Telegram.
- Статика (index.html, styles.css, script.js) обслуживается автоматически.

## Замечания
- Без сторонних зависимостей, только нативный JS/CSS/Node.
- Если WebApp недоступен, покажется подсказка открыть игру через кнопку бота внутри Telegram.
